{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"d-flex justify-space-between pa-4 pb-0\"\n};\nexport function render(_ctx, _cache) {\n  const _component_v_autocomplete = _resolveComponent(\"v-autocomplete\");\n  const _component_v_textarea = _resolveComponent(\"v-textarea\");\n  const _component_v_sheet = _resolveComponent(\"v-sheet\");\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_btn_toggle = _resolveComponent(\"v-btn-toggle\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  return _openBlock(), _createBlock(_component_v_card, {\n    class: \"mx-auto\",\n    \"max-width\": \"550\",\n    rounded: \"xl\",\n    variant: \"flat\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_sheet, {\n      class: \"pa-4 text-center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_autocomplete, {\n        ref: \"category\",\n        modelValue: _ctx.category,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.category = $event),\n        items: _ctx.categories,\n        rules: [() => !!_ctx.category || 'Please select a category...'],\n        chips: \"\",\n        placeholder: \"Please select a category...\",\n        required: \"\",\n        rounded: \"xl\",\n        variant: \"outlined\"\n      }, null, 8 /* PROPS */, [\"modelValue\", \"items\", \"rules\"]), _createVNode(_component_v_textarea, {\n        ref: \"post\",\n        modelValue: _ctx.post,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.post = $event),\n        rules: [() => !!_ctx.post || 'Please fill this area...', _ctx.postCheck],\n        \"auto-grow\": \"\",\n        \"full-width\": \"\",\n        \"hide-details\": \"\",\n        placeholder: \"Please fill this area...\",\n        required: \"\",\n        rounded: \"xl\",\n        rows: \"1\",\n        variant: \"outlined\"\n      }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"])]),\n      _: 1 /* STABLE */\n    }), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_v_btn_toggle, {\n      divided: \"true\",\n      rounded: \"xl\",\n      variant: \"outlined\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_btn, null, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, {\n          icon: \"mdi-image\"\n        })]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_btn, null, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, {\n          icon: \"mdi-gif\"\n        })]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_btn, null, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, {\n          icon: \"mdi-sticker-emoji\"\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_btn_toggle, {\n      divided: \"true\",\n      justify: \"center\",\n      multiple: \"true\",\n      rounded: \"xl\",\n      variant: \"outlined\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_btn, null, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, {\n          icon: \"mdi-format-italic\"\n        })]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_btn, null, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, {\n          icon: \"mdi-format-bold\"\n        })]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_btn, null, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, {\n          icon: \"mdi-format-underline\"\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_btn_toggle, {\n      color: \"success\",\n      justify: \"center\",\n      rounded: \"xl\",\n      variant: \"outlined\",\n      onClick: _ctx.share\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_btn, null, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, {\n          icon: \"mdi-share\"\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_v_card","rounded","variant","default","_withCtx","_createVNode","_component_v_sheet","_component_v_autocomplete","ref","modelValue","_ctx","category","_cache","$event","items","categories","rules","chips","placeholder","required","_component_v_textarea","post","postCheck","rows","_","_createElementVNode","_hoisted_1","_component_v_btn_toggle","divided","_component_v_btn","_component_v_icon","icon","justify","multiple","color","onClick","share"],"sources":["C:\\Users\\yigit\\Workspace\\opin.io\\client\\src\\views\\PostView.vue"],"sourcesContent":["<template>\r\n  <v-card\r\n      class=\"mx-auto\"\r\n      max-width=\"550\"\r\n      rounded=\"xl\"\r\n      variant=\"flat\"\r\n  >\r\n    <v-sheet class=\"pa-4 text-center\">\r\n      <v-autocomplete\r\n          ref=\"category\"\r\n          v-model=\"category\"\r\n          :items=\"categories\"\r\n          :rules=\"[() => !!category || 'Please select a category...']\"\r\n          chips\r\n          placeholder=\"Please select a category...\"\r\n          required\r\n          rounded=\"xl\"\r\n          variant=\"outlined\"\r\n      ></v-autocomplete>\r\n\r\n      <v-textarea\r\n          ref=\"post\"\r\n          v-model=\"post\"\r\n          :rules=\"[() => !!post || 'Please fill this area...', postCheck]\"\r\n          auto-grow\r\n          full-width\r\n          hide-details\r\n          placeholder=\"Please fill this area...\"\r\n          required\r\n          rounded=\"xl\"\r\n          rows=\"1\"\r\n          variant=\"outlined\"\r\n      ></v-textarea>\r\n    </v-sheet>\r\n\r\n    <div class=\"d-flex justify-space-between pa-4 pb-0\">\r\n      <v-btn-toggle\r\n          divided=\"true\"\r\n          rounded=\"xl\"\r\n          variant=\"outlined\"\r\n      >\r\n        <v-btn>\r\n          <v-icon icon=\"mdi-image\"></v-icon>\r\n        </v-btn>\r\n\r\n        <v-btn>\r\n          <v-icon icon=\"mdi-gif\"></v-icon>\r\n        </v-btn>\r\n\r\n        <v-btn>\r\n          <v-icon icon=\"mdi-sticker-emoji\"></v-icon>\r\n        </v-btn>\r\n      </v-btn-toggle>\r\n\r\n      <v-btn-toggle\r\n          divided=\"true\"\r\n          justify=\"center\"\r\n          multiple=\"true\"\r\n          rounded=\"xl\"\r\n          variant=\"outlined\"\r\n      >\r\n        <v-btn>\r\n          <v-icon icon=\"mdi-format-italic\"></v-icon>\r\n        </v-btn>\r\n\r\n        <v-btn>\r\n          <v-icon icon=\"mdi-format-bold\"></v-icon>\r\n        </v-btn>\r\n\r\n        <v-btn>\r\n          <v-icon icon=\"mdi-format-underline\"></v-icon>\r\n        </v-btn>\r\n      </v-btn-toggle>\r\n\r\n      <v-btn-toggle\r\n          color=\"success\"\r\n          justify=\"center\"\r\n          rounded=\"xl\"\r\n          variant=\"outlined\"\r\n          @click=\"share\"\r\n      >\r\n        <v-btn>\r\n          <v-icon icon=\"mdi-share\"></v-icon>\r\n        </v-btn>\r\n      </v-btn-toggle>\r\n    </div>\r\n  </v-card>\r\n</template>\r\n<script>\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      categories: [],\r\n      errorMessages: '',\r\n      post: null,\r\n      category: null,\r\n      formHasErrors: false,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    form() {\r\n      return {\r\n        post: this.post,\r\n        category: this.category,\r\n      };\r\n    },\r\n  },\r\n\r\n  async created() {\r\n    await this.fetchCategories();\r\n  },\r\n\r\n  methods: {\r\n    async fetchCategories() {\r\n      try {\r\n        const response = await axios.get('http://127.0.0.1:8080/categories');\r\n        this.categories = response.data.map(category => category.category_name);\r\n      } catch (error) {\r\n        console.error('An error occurred while fetching the categories.', error);\r\n      }\r\n    },\r\n\r\n    postCheck() {\r\n      this.errorMessages = this.post\r\n          ? (this.category ? '' : 'Hey! Select a category...')\r\n          : 'Hey! Post is required...';\r\n\r\n      return this.post && this.category;\r\n    },\r\n\r\n    resetForm() {\r\n      this.errorMessages = '';\r\n      this.formHasErrors = false;\r\n\r\n      if (this.$refs.post) {\r\n        this.$refs.post.reset();\r\n      }\r\n      if (this.$refs.category) {\r\n        this.$refs.category.reset();\r\n        this.category = null;\r\n      }\r\n    },\r\n\r\n    async share() {\r\n      const formData = {\r\n        content: this.post,\r\n        category_name: this.category,\r\n        user_name: this.user_name, <!-- TODO: Username bilgisi nereden Ã§ekilecek? -->\r\n        created_at: this.created_at,\r\n      };\r\n\r\n      try {\r\n        const response = await axios.post('http://127.0.0.1:8080/post', formData);\r\n        console.log('Data sent successfully.', response.data);\r\n\r\n        this.resetForm();\r\n        window.location.reload();\r\n      } catch (error) {\r\n        console.error('Data sending error.', error);\r\n        this.formHasErrors = true;\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}